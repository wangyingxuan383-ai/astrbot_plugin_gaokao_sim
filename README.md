# 高考模拟学习插件 v2.1

一个深度模拟高三学习生活的 AstrBot 插件，v2.1 版本引入了 LLM AI 互动、体力/压力数值系统以及可视化战报。

## 🌟 v2.1 新特性

- **🤖 AI 深度互动**
  - **随堂测验**: 学习过程中随机触发 AI 生成的选择题，答对加分！
  - **动态剧情**: 学习过程中触发 AI 剧情事件，提升代入感。
  - **志愿顾问**: 高考结束后，AI 根据你的成绩和性格推荐专业与职业规划。

- **⚡ 体力与压力系统**
  - **体力**: 每天 5 点体力。普通学习消耗 1 点。
  - **压力**: 学习会增加压力。压力过高 (>80) 会导致学习效率大幅下降。
  - **休息**: 使用 `/高考休息` 消耗 1 体力，大幅降低压力，并随机触发娱乐事件。

- **🖼️ 可视化战报**
  - 高考结算时生成**录取通知书图片**与**成绩折线图**，统一简约护眼风格。

- **💾 数据持久化**
  - 游戏进度实时保存，重启机器人不会丢失数据。

## 🎮 游戏规则

1. **时间线**: 9月到次年6月，10个阶段。每累计行动达到当前体力上限推进一个月。
2. **学科类型**: 随机分配文科或理科。
3. **性格系统**: 11种性格类型（新增 **坚韧型** 等）。
4. **总分上限**: 750 分（语数英 150，其它科目 100）。
5. **初始分布**: 总分大多在 250-450 之间，均值约 300。

## 📚 使用命令

- `/高考学习开始` - 开始新游戏
- `/高考学习 [科目]` - 学习指定科目 (消耗1体力，增加压力)
- `/高考休息` - 休息放松 (消耗1体力，降低压力)
- `/高考状态` - 查看当前分数、体力、压力和进度
- `/高考回答 [选项]` - 回答 AI 出的测验题 (如 `/高考回答 A`)
- `/高考菜单` - 显示帮助

## ⚙️ 配置说明

在 AstrBot 管理面板中可配置：
- **是否启用 LLM 功能**: 开启/关闭 AI 测验和志愿顾问
- **LLM 提供商 ID**: 指定用于本插件的 LLM 提供商
- **LLM 模型名称**: 留空使用提供商默认模型
- **每日体力上限**: 默认为 5
- **随堂测验触发概率**: 0.0 - 1.0
- **动态剧情触发概率**: 0.0 - 1.0
- **是否启用图片生成**: 生成录取通知书与成绩折线图

## 📦 依赖安装

插件依赖 `pillow` 和 `matplotlib` (可选)，请确保环境已安装：

```bash
pip install -r requirements.txt
```
